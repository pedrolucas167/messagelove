<body class="no-js">
  <div class="no-js-alert" role="alert">
    <p>Este site requer JavaScript para funcionar corretamente. Por favor, ative-o em suas configurações do navegador.</p>
  </div>

  <header class="main-header" role="banner">
    <div class="container">
      <h1>Crie um Cartão Especial</h1>
      <p class="subtitle">Compartilhe seu amor com mensagens personalizadas, fotos e vídeos do YouTube</p>
    </div>
  </header>

  <main class="main-content" role="main">
    <div class="container">
      <form id="cardForm" class="card-form" novalidate>
        <fieldset class="form-section">
          <legend class="section-title"><h2>Informações do Cartão</h2></legend>
          
          <div class="form-group">
            <label for="de" class="required-field">De:</label>
            <input type="text" id="de" name="de" required placeholder="Seu nome" aria-required="true" />
          </div>
          
          <div class="form-group">
            <label for="para" class="required-field">Para:</label>
            <input type="text" id="para" name="para" required placeholder="Nome de quem vai receber" aria-required="true" />
          </div>

          <div class="form-group">
            <label for="mensagem" class="required-field">Sua Mensagem:</label>
            <textarea id="mensagem" name="mensagem" required placeholder="Escreva sua mensagem especial..."></textarea>
          </div>

          <div class="form-group file-upload">
            <label for="fotoUpload">Adicionar Foto (Opcional)</label>
            <input type="file" id="fotoUpload" name="foto" accept="image/jpeg,image/png,image/gif" />
            <small class="field-hint">Formatos: JPG, PNG, GIF (máx. 5MB)</small>
            
            <div id="fotoPreviewContainer" class="preview-container" hidden>
              <img id="fotoPreview" class="preview" alt="Pré-visualização da foto selecionada" />
              <button type="button" class="btn-remove" id="removeFotoBtn" aria-label="Remover foto">Remover Foto</button>
            </div>
          </div>

          <div class="form-group">
            <label for="youtubeUrlInput">Link do YouTube (Opcional)</label>
            <div class="input-container" style="display: flex; gap: 10px;">
              <input type="url" id="youtubeUrlInput" class="form-input" placeholder="Cole o link do vídeo aqui" />
              <button type="button" id="addYoutubeUrlBtn" class="btn btn--secondary" style="white-space: nowrap;">Adicionar</button>
            </div>
            <div id="youtubeError" class="youtube-error"></div>
          </div>
          
          <div id="youtubePreviewContainer" class="youtube-preview-container" hidden>
            <div class="youtube-player-wrapper">
              <iframe id="youtubePlayer" allowfullscreen title="Player de vídeo do YouTube"></iframe>
            </div>
            <input type="hidden" id="youtubeVideoId" name="youtubeVideoId" />
             <button type="button" id="removeYoutubeBtn" class="btn-remove" style="margin-top: 10px;">Remover Vídeo</button>
          </div>

          <div class="form-group form-actions">
            <button type="submit" class="btn btn-submit btn--primary" id="submitBtn">
              <span class="btn-text">Criar Cartão</span>
              <span class="btn-loading" aria-hidden="true" hidden>
                <span class="btn-spinner" aria-hidden="true"></span> Processando...
              </span>
            </button>
          </div>
        </fieldset>
      </form>
      
      <div id="appNotificationArea" style="margin-top: 20px;"></div>

    </div>
  </main>

  <footer class="main-footer" role="contentinfo">
    <div class="container">
      <p>
        <span>Messagelove © <span id="currentYear"></span></span>
        <span>Feito com <span aria-label="coração">❤️</span> por <a href="https://pedrolucas167.github.io/portfolio/" target="_blank" rel="noopener noreferrer">Pedro Marques</a></span>
      </p>
    </div>
  </footer>

  <script>
    document.body.classList.remove('no-js');
    document.querySelector('.main-content').style.display = 'block';
  </script>
  
  <script src="script.js" defer></script>
</body>