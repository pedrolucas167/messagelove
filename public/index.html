<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Messagelove - Crie Cartões Especiais Personalizados</title>
  
  <meta name="description" content="Crie cartões especiais com mensagens personalizadas, fotos e vídeos do YouTube para presentear quem você ama." />
  <meta name="theme-color" content="#e91e63" />

  <meta property="og:title" content="Messagelove - Crie Cartões Especiais" />
  <meta property="og:description" content="Crie cartões especiais com mensagens personalizadas, fotos e vídeos." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://messagelove.app" /> <meta property="og:image" content="/assets/og-image.jpg" /> <meta property="og:locale" content="pt_BR" />

  <link rel="preconnect" href="https://messagelove-backend.onrender.com" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <link rel="icon" href="coracao.png" type="image/png" />

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="no-js">

  <div class="no-js-alert" role="alert">
    <p>Este site requer JavaScript para funcionar corretamente. Por favor, ative-o em seu navegador.</p>
  </div>

  <div class="main-container">
    <header class="main-header">
      <div class="container">
        <h1>Crie um Cartão Especial</h1>
        <p class="subtitle">Compartilhe seu amor com mensagens, fotos e vídeos</p>
      </div>
    </header>

    <main class="main-content">
      <section class="container" aria-labelledby="form-title">
        <form id="cardForm" novalidate>
          <fieldset>
            <legend id="form-title" class="section-title"><h2>Informações do Cartão</h2></legend>
            
            <div class="form-group">
              <label for="deInput" class="required-field">Seu Nome (De)</label>
              <input type="text" id="deInput" name="de" required placeholder="Quem está enviando?" aria-required="true" />
            </div>

            <div class="form-group">
              <label for="paraInput" class="required-field">Nome do Destinatário (Para)</label>
              <input type="text" id="paraInput" name="para" required placeholder="Para quem é este cartão?" aria-required="true" />
            </div>

            <div class="form-group">
              <label for="mensagemTextarea" class="required-field">Sua Mensagem</label>
              <textarea id="mensagemTextarea" name="mensagem" required placeholder="Escreva sua mensagem especial..." aria-required="true"></textarea>
            </div>

            <div class="form-group">
              <label for="fotoUpload">Adicionar Foto (Opcional)</label>
              <input type="file" id="fotoUpload" name="foto" accept="image/jpeg,image/png,image/gif" aria-describedby="fotoHelp" />
              <small id="fotoHelp" class="field-hint">Formatos: JPG, PNG, GIF (máx. 5MB)</small>
              <div id="fotoPreviewContainer" class="preview-container" hidden>
                <img id="fotoPreview" alt="Pré-visualização da foto selecionada." />
                <button type="button" id="removeFotoBtn" class="btn btn--remove" aria-label="Remover foto selecionada">&times;</button>
              </div>
            </div>

            <div class="form-group">
              <label for="youtubeUrlInput">Link do YouTube (Opcional)</label>
              <div class="input-group">
                <input type="url" id="youtubeUrlInput" class="form-input" placeholder="Cole o link do vídeo aqui" aria-describedby="youtubeUrlHelp" />
                <button type="button" id="addYoutubeUrlBtn" class="btn btn--secondary">Analisar</button>
              </div>
              <small id="youtubeUrlHelp" class="field-hint">Cole um link de um vídeo ou Short do YouTube.</small>
              <div id="youtubeError" class="form-error"></div>
            </div>
            
            <div id="youtubePreviewContainer" class="youtube-preview-container" hidden>
              <div class="youtube-player-wrapper">
                <iframe id="youtubePlayer" title="Player de vídeo do YouTube" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </div>
              <input type="hidden" id="youtubeVideoId" name="youtubeVideoId" />
              <button type="button" id="removeYoutubeBtn" class="btn btn--remove">Remover Vídeo</button>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn--primary" id="submitBtn">
                <span class="btn-text">Criar Cartão</span>
                <span class="btn-loading" hidden>
                  <span class="spinner" aria-hidden="true"></span> Processando...
                </span>
              </button>
            </div>
          </fieldset>
        </form>
      </section>

      <div id="appNotificationArea" aria-live="polite" aria-atomic="true"></div>
    </main>

    <footer class="main-footer">
      <div class="container">
        <p>Messagelove © <span id="currentYear">2025</span></p>
        <p>Feito com <span role="img" aria-label="coração">❤️</span> por <a href="https://pedrolucas167.github.io/portfolio/" target="_blank" rel="noopener noreferrer">Pedro Marques</a></p>
      </div>
    </footer>
  </div>

  <script>
    // Remove a classe no-js o mais rápido possível
    document.body.classList.remove('no-js');
  </script>
  <script src="script.js" defer></script>
</body>
</html>